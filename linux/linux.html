<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introducción a Linux &mdash; Curso de PostGIS 2.0 - PATHII, Tegucigalpa 2013 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Curso de PostGIS 2.0 - PATHII, Tegucigalpa 2013 1.0 documentation" href="../index.html" />
    <link rel="next" title="Teoría de base de datos" href="../bases-de-datos/teoria_bases_datos.html" />
    <link rel="prev" title="Instalación de la máquina virtual" href="../virtual-box/virtual-box.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../bases-de-datos/teoria_bases_datos.html" title="Teoría de base de datos"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../virtual-box/virtual-box.html" title="Instalación de la máquina virtual"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Curso de PostGIS 2.0 - PATHII, Tegucigalpa 2013 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduccion-a-linux">
<h1>Introducción a Linux<a class="headerlink" href="#introduccion-a-linux" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>©2012 Fernando González Cortés y Miguel García Coya</p>
<p class="last">Excepto donde quede reflejado de otra manera, la presente documentación se halla bajo licencia : Creative Commons (Creative Commons - Attribution - Share Alike: <a class="reference external" href="http://creativecommons.org/licenses/by-sa/3.0/deed.es">http://creativecommons.org/licenses/by-sa/3.0/deed.es</a>)</p>
</div>
<p>En el símbolo de sistema presentado es posible hacer uso de una serie de comandos que la mayor
parte de sistemas linux tienen. Pero antes de ver los comandos es importante tener claro
cómo se organiza el sistema de ficheros y cómo se referencian estos mediante rutas relativas
y absolutas.</p>
<p>El sistema de ficheros linux se organiza jerárquicamente a partir de un directorio llamado
&#8220;raíz&#8221; y que se denota por la barra inclinada hacia adelante (/). En linux los ficheros
se referencian mediante rutas. Estas rutas pueden ser relativas o absolutas.
Las absolutas comienzan por /, mientras que las relativas empiezan por el nombre de un subdirectorio,
por . (directorio actual) o por .. (directorio padre).</p>
<p>Así pues, podemos tener rutas absolutas como:</p>
<div class="highlight-python"><pre>/tmp
/home/geo
/home/geo/Escritorio
etc.</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">En la documentación antepondremos el símbolo <tt class="docutils literal"><span class="pre">$</span></tt> a toda aquella instrucción que se puede ejecutar en la línea de comandos de un sistema Linux. ¡¡Pero dicho símbolo no forma parte de la instrucción!!</p>
</div>
<p>Las rutas absolutas se pueden utilizar desde cualquier directorio. Podemos listar los directorios
anteriores con los siguientes comandos, independientemente del directorio en el que se esté:</p>
<div class="highlight-python"><pre>$ ls /tmp
$ ls /home/geo
$ ls /home/geo/Escritorio</pre>
</div>
<p>Las rutas relativas en cambio, parten del directorio actual. Si por ejemplo estamos en <em>/home/geo</em>, podemos
listar los directorios anteriores con los siguientes comandos:</p>
<div class="highlight-python"><pre>$ ls ../../tmp
$ ls .
$ ls Escritorio</pre>
</div>
<p>o &#8220;navegando&#8221; de forma más caprichosa:</p>
<div class="highlight-python"><pre>$ ls Escritorio/../../../tmp
$ ls ./././././././././././../geo
$ ls ../geo/Escritorio</pre>
</div>
<p>A continuación mostramos algunos comandos útiles en linux:</p>
<ul>
<li><p class="first">less: Visualiza un fichero de texto. La interacción es la misma que la descrita en el apartado
&#8220;Ayuda de psql&#8221; anterior:</p>
<div class="highlight-python"><pre>$ less ruta_fichero_a_visualizar</pre>
</div>
<p>El fichero a visualizar se presenta de una manera muy común en los sistemas
UNIX y que podemos identificar porque en la esquina inferior izquierda tenemos el
signo de los dos puntos (:) seguido del cursor.</p>
<img alt="../_images/training_postgresql_help.png" src="../_images/training_postgresql_help.png" />
<p>Podemos navegar por el contenido pulsando los cursores arriba y abajo, así como las
teclas de página anterior y posterior.</p>
<p>También es posible hacer búsquedas utilizando el comando /texto. Una vez pulsamos intro,
se resaltarán las coincidencias encontradas, como se puede ver en la siguiente imagen. Para navegar a la
siguiente coincidencia es posible pulsar la tecla &#8216;n&#8217; y para ir a la anterior Mayúsculas + &#8216;n&#8217;</p>
<img alt="../_images/training_postgresql_psql_help_search.png" src="../_images/training_postgresql_psql_help_search.png" />
<p>Para salir pulsar &#8216;q&#8217;.</p>
</li>
<li><p class="first">nano: Permite editar ficheros. En la parte de abajo se muestran los comandos para salir, guardar
el fichero, etc.:</p>
<div class="highlight-python"><pre>$ nano ruta_fichero_a_editar</pre>
</div>
<p>Cuando se trabaja en modo texto en linux, dependiendo de la aplicación terminal utilizada, es posible copiar y pegar texto de la forma habitual: seleccionando con el ratón y presionando una combinación de teclas. Sin embargo, esta combinación de teclas suele ser diferente a las habituales (<tt class="docutils literal"><span class="pre">Ctrl+C</span></tt>, <tt class="docutils literal"><span class="pre">Ctrl+V</span></tt>) ya que <tt class="docutils literal"><span class="pre">Ctrl+C</span></tt> tiene un significado distinto en el terminal: el de interrumpir el proceso que se está ejecutando. La combinación de teclas se puede averiguar si se utiliza un terminal con barra de menúes como el siguiente:</p>
<img alt="../_images/terminal.png" src="../_images/terminal.png" />
<p>Si la aplicación terminal que se utiliza no incorpora menu, como <tt class="docutils literal"><span class="pre">xterm</span></tt>, siempre se puede utilizar un método bastante cómodo y siempre disponible en Linux que consiste en seleccionar el texto y pegar directamente con el botón central del ratón. Lo engañoso de este método es que el texto se pega en la posición del cursor y no allí donde se pincha.</p>
<p>Ejercicio: Crear un fichero con tu nombre y que contenga este apartado.</p>
</li>
<li><p class="first">locate: Localiza ficheros en el sistema operativo:</p>
<div class="highlight-python"><pre>$ locate parte_del_nombre_del_fichero</pre>
</div>
<p>Un aspecto a tener en cuenta en el uso de locate es que el sistema programa escaneos regulares del disco para construir un índice con los ficheros existentes y permitir así a <em>locate</em> responder al usuario sin tener que realizar la búsqueda en el sistema de ficheros, que toma mucho tiempo. Es por esto que <em>locate</em> funciona muy rápido pero puede que no encuentre los ficheros creados recientemente. Para estos, habrá que esperar a que se produzca un escaneo programado o lanzar un escaneo de forma manual con <tt class="docutils literal"><span class="pre">updatedb</span></tt>.</p>
</li>
<li><p class="first">find: Localiza ficheros en el sistema de archivos:</p>
<div class="highlight-python"><pre>$ find ruta -name nombre_del_fichero</pre>
</div>
<p>A diferencia de locate, el comando find recorrerá el sistema de archivos cada vez que se lo ejecute,
sin emplear índices. Por esa razón, si bien es mucho más lento el resultado, puede hallar ficheros que
no se hayan indexado, por ejemplo, los ficheros creados recientemente.</p>
</li>
<li><p class="first">id: Muestra la identidad actual del usuario:</p>
<div class="highlight-python"><pre>$ id</pre>
</div>
</li>
<li><p class="first">su: Permite autenticarse con un usuario distinto. El siguiente comando probablemente no funcionará
porque es necesario tener permisos de superusuario para realizar <em>su</em>, ver el siguiente caso:</p>
<div class="highlight-python"><pre>$ su postgres</pre>
</div>
</li>
<li><p class="first">sudo: No es un comando en sí, sino que permite ejecutar el comando que le sigue con permisos
de superusuario. Por ejemplo, para ejecutar el comando anterior con permisos de superusuario:</p>
<div class="highlight-python"><pre>$ sudo su postgres</pre>
</div>
</li>
<li><p class="first">passwd: Cambia el password de un usuario. Por ejemplo para cambiar el password de root:</p>
<div class="highlight-python"><pre>$ sudo passwd root</pre>
</div>
</li>
<li><p class="first">ssh: Acceso remoto en línea de comandos. Con SSH es posible entrar a un servidor remoto que tenga
activado dicho acceso. Para ello es necesario especificar la dirección del servidor:</p>
<div class="highlight-python"><pre>$ ssh 168.202.48.151
The authenticity of host '168.202.48.151 (168.202.48.151)' can't be established.
ECDSA key fingerprint is 9f:7c:a8:9c:8b:66:37:68:8b:7f:95:a4:1b:24:06:39.
Are you sure you want to continue connecting (yes/no)? yes</pre>
</div>
<p>En la salida anterior podemos observar como primeramente el sistema pregunta por la autenticidad de
la máquina a la que queremos conectar. Tras responder afirmativamente el sistema nos comunica que
el servidor al que vamos a conectarnos se añade a la lista de hosts conocidos, de manera que el
mensaje anterior no volverá a aparecer la siguiente vez que se intente una conexión. A continuación
el sistema pregunta el password del usuario &#8220;usuario&#8221;:</p>
<div class="highlight-python"><pre>Warning: Permanently added '168.202.48.151' (ECDSA) to the list of known hosts.
usuario@168.202.48.151's password:</pre>
</div>
<p>En caso de querer conectar con otro usuario es necesario prefijar el nombre de dicho usuario, seguido
del carácter &#8220;&#64;&#8221; antes de la dirección del servidor:</p>
<div class="highlight-python"><pre>$ ssh otro_usuario@168.202.48.151</pre>
</div>
</li>
<li><p class="first">scp: Copia ficheros al servidor:</p>
<div class="highlight-python"><pre>$ scp fichero_origen directorio_destino</pre>
</div>
<p>El directorio puede ser una ruta normal o la cadena de conexión por SSH a un servidor remoto. Veamos
varios ejemplos. El siguiente copia ficheros locales en el directorio <em>/tmp</em> de un servidor remoto:</p>
<div class="highlight-python"><pre>$ scp mi_fichero_local geo@geoportalcredia.org:/tmp</pre>
</div>
<p>El siguiente comando copia el fichero de vuelta:</p>
<div class="highlight-python"><pre>$ scp geo@geoportalcredia.org:/tmp/mi_fichero_local .</pre>
</div>
<p>Se puede observar que el format de la URL remota es parecido al que se usa para conectar por cliente
SSH. La única diferencia es que al final, separado por (:), encontramos una ruta en la máquina remota</p>
<p>Ejercicio: Conectar a una máquina linux usando estos comandos.</p>
<p>Ejercicio: Copiar el fichero creado en el apartado sobre <tt class="docutils literal"><span class="pre">nano</span></tt> en /tmp</p>
<p>Ejercicio: Conectar al sistema linux desde windows y copiar un fichero cualquiera haciendo uso de putty.exe y scp.exe.</p>
</li>
<li><p class="first">zip: Comprime ficheros:</p>
<div class="highlight-python"><pre>$ zip -r ruta_fichero.zip lista_de_ficheros_a_comprimir</pre>
</div>
<p>La opción -r hace que zip incluya los contenidos de los directorios que se encuentre en la
lista de ficheros a compartir.</p>
</li>
<li><p class="first">unzip: Descomprime ficheros:</p>
<div class="highlight-python"><pre>$ unzip ruta_fichero.zip</pre>
</div>
</li>
<li><p class="first">chgrp: cambia el grupo de usuarios de un archivo o directorio en sistemas tipo UNIX.
Cada archivo de Unix tiene un identificador de usuario (UID) y un identificador de grupo (GID)
que se corresponden con el usuario y el grupo de quien lo creó.</p>
<p>El usuario root puede cambiar a cualquier archivo el grupo. Los demás usuarios sólo pueden
hacerlo con los archivos propios y grupos a los que pertenezca.:</p>
<div class="highlight-python"><pre>$ chgrp nuevogrp archivo1 [ archivo2 archivo3...]

Cambia el grupo de archivo1 archivo2, etc. que pasará a ser nuevogrp

$ chgrp -R nuevogrp directorio

Cambia el grupo para que pase a ser nuevogrp a directorio, todos los archivos y subdirectorios contenidos en él, cambiándolos también de forma recursiva en todos archivos de los subdirectorios.</pre>
</div>
</li>
<li><p class="first">chown: cambiar el propietario de un archivo o directorio:</p>
<div class="highlight-python"><pre>$ chown nuevousr archivo1 [ archivo2 archivo3...]
$ chown -R nuevousr directorio</pre>
</div>
</li>
<li><p class="first">chmod: permite cambiar los permisos de acceso de un archivo o directorio:</p>
<div class="highlight-python"><pre>$ chmod [modificadores] permisos archivo/directorio</pre>
</div>
<p>Ejercicio: Quitarse el permiso de lectura sobre el fichero creado en el apartado de <tt class="docutils literal"><span class="pre">nano</span></tt>.</p>
</li>
<li><p class="first">wget: Utilizado para descargar ficheros de distintos servidores HTTP, HTTPS y FTP. Basta con teclear wget seguido de la dirección del fichero en internet:</p>
<div class="highlight-python"><pre>wget http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf</pre>
</div>
<p>Entre las muchas opciones que soporta, la más frecuente es <tt class="docutils literal"><span class="pre">-O</span> <span class="pre">&lt;nombre_fichero&gt;</span></tt>, que permite dar un nombre distinto al fichero descargado:</p>
<div class="highlight-python"><pre>wget http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf -O especificacion_shapefile.pdf</pre>
</div>
<p>Ejercicio: Descargar el logo del portal de FAO (<a class="reference external" href="http://fao.org">http://fao.org</a>) con wget</p>
</li>
</ul>
<p>Aprovecharemos para explicar una funcionalidad de Linux que nos vendrán bien más adelante:</p>
<ul>
<li><p class="first">Redireccionamiento: En linux es posible mediante el uso del caracter <tt class="docutils literal"><span class="pre">mayor</span> <span class="pre">que</span></tt> <strong>&gt;</strong> redireccionar la salida de un proceso hacia otro proceso. Por ejemplo, podremos escribir en un archivo mediante:</p>
<div class="highlight-python"><pre>Creamos el archivo vacio mediante el comando ``touch``
$ touch nombre_del_archivo
``echo`` nos permite escribir texto en la consola
$ echo "Estoy escribiendo en el archivo" &gt; nombre_del_archivo
$ nano nombre_del_archivo</pre>
</div>
</li>
</ul>
<p>y podremos ver el texto &#8220;Estoy escribiendo en el archivo&#8221; en el archivo que hemos creado. Esta función será usada muy habitualmente para la generación de archivos sql con la salida de las operaciones.</p>
<p>La instalación de aplicaciones en Linux se hace mediante el uso de herramientas de gestión de paquetes. En función de la distribución que estemos utilizando utilizaremos una herramienta u otra dependiendo de la versión en la que se base nuestra distribución Debian, Red Hat... En nuestro caso, como nuestra versión se basa en la distribución Debian, utilizaremos la herramienta <tt class="docutils literal"><span class="pre">apt</span></tt>:</p>
<div class="highlight-python"><pre>- Buscar aplicaciones::</pre>
</div>
<blockquote>
<div>$ apt-cache search nombre_aplicación</div></blockquote>
<ul>
<li><p class="first">Ver información sobre la aplicación:</p>
<div class="highlight-python"><pre>$ apt-cache show nombre_aplicación</pre>
</div>
</li>
<li><p class="first">Instalar aplicación:</p>
<div class="highlight-python"><pre>$ apt-get install nombre_aplicación (con permisos de superusuario)</pre>
</div>
</li>
<li><p class="first">Eliminar aplicación (con permisos de superusuario):</p>
<div class="highlight-python"><pre>$ apt-get remove nombre_aplicación
$ apt-get purge nombre_aplicación</pre>
</div>
</li>
</ul>
<p>en este último caso eliminará también los archivos de configuración que haya instalado la aplicación.</p>
<p>La herramienta <tt class="docutils literal"><span class="pre">apt</span></tt> conoce los repositorios desde los que descargarse los archivos gracias a que se lo indicamos en un archivo, denominado <tt class="docutils literal"><span class="pre">sources.list</span></tt> que se encuentra en la carpeta <tt class="docutils literal"><span class="pre">/etc/apt</span></tt> de nuestra distribución. Si queremos añadirle un repositorio más podremos:</p>
<div class="highlight-python"><pre>$ sudo echo "ruta al repositorio en la red" &gt; /etc/apt/sources.list</pre>
</div>
<p>después debemos actualizar los repositorios disponibles mediante:</p>
<div class="highlight-python"><pre>$ apt-get update</pre>
</div>
<p>Para una descripción completa de las operaciones que son posibles mediante <tt class="docutils literal"><span class="pre">apt-get</span></tt> se recomienda el uso de:</p>
<div class="highlight-python"><pre>$ apt-get --help</pre>
</div>
<p>Realizar el siguiente ejercicio:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Crear un fichero llamado <tt class="docutils literal"><span class="pre">/tmp/copy-contents.sh</span></tt> con las siguientes líneas (sustituyendo &lt;servidor&gt; y &lt;nombre&gt; por valores adecuados):</p>
<div class="highlight-python"><pre>wget http://www.diva-gis.org/data/rrd/ARG_rrd.zip -O rails.zip
unzip rails.zip
scp * nfms@&lt;servidor&gt;:/tmp/&lt;nombre&gt;</pre>
</div>
</li>
<li><p class="first">Dar permisos de ejecución</p>
</li>
<li><p class="first">Ejecutar</p>
</li>
</ol>
</div></blockquote>
<p>Ejercicio: Crear un fichero vacío en <tt class="docutils literal"><span class="pre">/var/lib/postgresql</span></tt></p>
<blockquote>
<div><p>De cuantas maneras es posible realizar esto?</p>
<ol class="arabic simple">
<li>Usando <tt class="docutils literal"><span class="pre">sudo</span></tt> para crear el fichero</li>
<li>Creando el fichero como <tt class="docutils literal"><span class="pre">postgres</span></tt></li>
<li>Cambiando los permisos al directorio. ¡NO!</li>
</ol>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../virtual-box/virtual-box.html"
                        title="previous chapter">Instalación de la máquina virtual</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../bases-de-datos/teoria_bases_datos.html"
                        title="next chapter">Teoría de <strong>base de datos</strong></a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/linux/linux.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../bases-de-datos/teoria_bases_datos.html" title="Teoría de base de datos"
             >next</a> |</li>
        <li class="right" >
          <a href="../virtual-box/virtual-box.html" title="Instalación de la máquina virtual"
             >previous</a> |</li>
        <li><a href="../index.html">Curso de PostGIS 2.0 - PATHII, Tegucigalpa 2013 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Micho García.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>